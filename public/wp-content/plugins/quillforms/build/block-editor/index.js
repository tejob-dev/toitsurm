!function(){var e={6553:function(e,t){var n,r;n=function(e,t){"use strict";var n,r,o="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),l=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){l=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function i(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!o.has(e)){var t=null,n=null,r=null,i=function(){e.clientWidth!==n&&u()},a=function(t){window.removeEventListener("resize",i,!1),e.removeEventListener("input",u,!1),e.removeEventListener("keyup",u,!1),e.removeEventListener("autosize:destroy",a,!1),e.removeEventListener("autosize:update",u,!1),Object.keys(t).forEach((function(n){e.style[n]=t[n]})),o.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",a,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",u,!1),window.addEventListener("resize",i,!1),e.addEventListener("input",u,!1),e.addEventListener("autosize:update",u,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",o.set(e,{destroy:a,update:u}),"vertical"===(c=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===c.resize&&(e.style.resize="horizontal"),t="content-box"===c.boxSizing?-(parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)):parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth),isNaN(t)&&(t=0),u()}var c;function s(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function d(){if(0!==e.scrollHeight){var r=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),o=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,r.forEach((function(e){e.node.scrollTop=e.scrollTop})),o&&(document.documentElement.scrollTop=o)}}function u(){d();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),o="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(o<t?"hidden"===n.overflowY&&(s("scroll"),d(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(s("hidden"),d(),o="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==o){r=o;var i=l("autosize:resized");try{e.dispatchEvent(i)}catch(e){}}}}function a(e){var t=o.get(e);t&&t.destroy()}function c(e){var t=o.get(e);t&&t.update()}var s=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((s=function(e){return e}).destroy=function(e){return e},s.update=function(e){return e}):((s=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],(function(e){return i(e)})),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],a),e},s.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.default=s,e.exports=t.default},void 0===(r=n.apply(t,[e,t]))||(e.exports=r)},2955:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var l=typeof n;if("string"===l||"number"===l)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===l){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var a in n)r.call(n,a)&&n[a]&&e.push(a)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},7939:function(e){e.exports=function(e,t,n){return((n=window.getComputedStyle)?n(e):e.currentStyle)[t.replace(/-(\w)/gi,(function(e,t){return t.toUpperCase()}))]}},6940:function(e,t,n){var r=n(7939);e.exports=function(e){var t=r(e,"line-height"),n=parseFloat(t,10);if(t===n+""){var o=e.style.lineHeight;e.style.lineHeight=t+"em",t=r(e,"line-height"),n=parseFloat(t,10),o?e.style.lineHeight=o:delete e.style.lineHeight}if(-1!==t.indexOf("pt")?(n*=4,n/=3):-1!==t.indexOf("mm")?(n*=96,n/=25.4):-1!==t.indexOf("cm")?(n*=96,n/=2.54):-1!==t.indexOf("in")?n*=96:-1!==t.indexOf("pc")&&(n*=16),n=Math.round(n),"normal"===t){var l=e.nodeName,i=document.createElement(l);i.innerHTML="&nbsp;","TEXTAREA"===l.toUpperCase()&&i.setAttribute("rows","1");var a=r(e,"font-size");i.style.fontSize=a,i.style.padding="0px",i.style.border="0px";var c=document.body;c.appendChild(i),n=i.offsetHeight,c.removeChild(i)}return n}},860:function(e,t,n){"use strict";var r=n(8620);function o(){}function l(){}l.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,l,i){if(i!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:o};return n.PropTypes=n,n}},7860:function(e,t,n){e.exports=n(860)()},8620:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4736:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),l=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n};t.__esModule=!0;var a=n(9196),c=n(7860),s=n(6553),d=n(6940),u="autosize:resized",p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={lineHeight:null},t.textarea=null,t.onResize=function(e){t.props.onResize&&t.props.onResize(e)},t.updateLineHeight=function(){t.textarea&&t.setState({lineHeight:d(t.textarea)})},t.onChange=function(e){var n=t.props.onChange;t.currentValue=e.currentTarget.value,n&&n(e)},t}return o(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.maxRows,r=t.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||r?setTimeout((function(){return e.textarea&&s(e.textarea)})):this.textarea&&s(this.textarea),this.textarea&&this.textarea.addEventListener(u,this.onResize)},t.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(u,this.onResize),s.destroy(this.textarea))},t.prototype.render=function(){var e=this,t=this.props,n=(t.onResize,t.maxRows),r=(t.onChange,t.style),o=(t.innerRef,t.children),c=i(t,["onResize","maxRows","onChange","style","innerRef","children"]),s=this.state.lineHeight,d=n&&s?s*n:null;return a.createElement("textarea",l({},c,{onChange:this.onChange,style:d?l({},r,{maxHeight:d}):r,ref:function(t){e.textarea=t,"function"==typeof e.props.innerRef?e.props.innerRef(t):e.props.innerRef&&(e.props.innerRef.current=t)}}),o)},t.prototype.componentDidUpdate=function(){this.textarea&&s.update(this.textarea)},t.defaultProps={rows:1,async:!1},t.propTypes={rows:c.number,maxRows:c.number,onResize:c.func,innerRef:c.any,async:c.bool},t}(a.Component);t.TextareaAutosize=a.forwardRef((function(e,t){return a.createElement(p,l({},e,{innerRef:t}))}))},2531:function(e,t,n){"use strict";var r=n(4736);t.Z=r.TextareaAutosize},4250:function(e,t,n){"use strict";var r,o,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t._1=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(!document.getElementById("react-confirm-alert-firm-svg")){var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var n=document.createElementNS(e,"filter");n.setAttribute("id","gaussian-blur"),n.appendChild(t);var r=document.createElementNS(e,"svg");r.setAttribute("id","react-confirm-alert-firm-svg"),r.setAttribute("class","react-confirm-alert-svg"),r.appendChild(n),document.body.appendChild(r)}}(),function(e){var t=document.getElementById("react-confirm-alert");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t)),(0,s.render)(a.default.createElement(m,e),t)}(e)};var i=n(9196),a=d(i),c=d(n(7860)),s=n(1850);function d(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(o=r=function(e){function t(){var e,n,r;u(this,t);for(var o=arguments.length,l=Array(o),i=0;i<o;i++)l[i]=arguments[i];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleClickButton=function(e){e.onClick&&e.onClick(),r.close()},r.handleClickOverlay=function(e){var t=r.props,n=t.closeOnClickOutside,o=t.onClickOutside,l=e.target===r.overlay;n&&l&&(o(),r.close())},r.close=function(){var e=r.props.afterClose;b(),h(),f(e)},r.keyboardClose=function(e){var t=r.props,n=t.closeOnEscape,o=t.onKeypressEscape,l=t.keyCodeForClose,i=e.keyCode,a=27===i;l.includes(i)&&r.close(),n&&a&&(o(e),r.close())},r.componentDidMount=function(){document.addEventListener("keydown",r.keyboardClose,!1)},r.componentWillUnmount=function(){document.removeEventListener("keydown",r.keyboardClose,!1),r.props.willUnmount()},r.renderCustomUI=function(){var e=r.props,t=e.title,n=e.message,o=e.buttons;return(0,e.customUI)({title:t,message:n,buttons:o,onClose:r.close})},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.message,o=t.buttons,l=t.childrenElement,i=t.customUI,c=t.overlayClassName;return a.default.createElement("div",{className:"react-confirm-alert-overlay "+c,ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},a.default.createElement("div",{className:"react-confirm-alert"},i?this.renderCustomUI():a.default.createElement("div",{className:"react-confirm-alert-body"},n&&a.default.createElement("h1",null,n),r,l(),a.default.createElement("div",{className:"react-confirm-alert-button-group"},o.map((function(t,n){return a.default.createElement("button",{key:n,onClick:function(){return e.handleClickButton(t)},className:t.className},t.label)}))))))}}]),t}(i.Component),r.propTypes={title:c.default.string,message:c.default.string,buttons:c.default.array.isRequired,childrenElement:c.default.func,customUI:c.default.func,closeOnClickOutside:c.default.bool,closeOnEscape:c.default.bool,keyCodeForClose:c.default.arrayOf(c.default.number),willUnmount:c.default.func,afterClose:c.default.func,onClickOutside:c.default.func,onKeypressEscape:c.default.func,overlayClassName:c.default.string},r.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},o);function f(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function h(){var e=document.getElementById("react-confirm-alert");e&&((0,s.unmountComponentAtNode)(e),e.parentNode.removeChild(e))}function b(){document.body.classList.remove("react-confirm-alert-body-element")}},9196:function(e){"use strict";e.exports=window.React},1850:function(e){"use strict";e.exports=window.ReactDOM}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var l=t[r]={exports:{}};return e[r].call(l.exports,l,l.exports,n),l.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};!function(){"use strict";n.r(r),n.d(r,{__experimentalBlockDragging:function(){return Q},__experimentalBlockEditCrashBoundary:function(){return oe},__experimentalBlockListItem:function(){return ie}});var e={};n.r(e),n.d(e,{__experimentalInsertBlock:function(){return ye},__experimentalReorderBlocks:function(){return ge},deleteBlock:function(){return xe},setBlockAttributes:function(){return ke},setCurrentBlock:function(){return Ee},setCurrentChildBlock:function(){return Ce},setupStore:function(){return ve}});var t={};n.r(t),n.d(t,{getAllBlocks:function(){return Ie},getBlockById:function(){return Oe},getBlockOrderById:function(){return Ne},getBlocks:function(){return _e},getBlocksByCriteria:function(){return Fe},getCurrentBlock:function(){return De},getCurrentBlockId:function(){return Pe},getCurrentBlockIndex:function(){return ze},getCurrentChildBlockId:function(){return qe},getCurrentChildBlockIndex:function(){return Ae},getEditableFields:function(){return Te},getEditableFieldsLength:function(){return Me},getPreviousBlocksByCriteria:function(){return Re},getPreviousEditableFieldsWithOrder:function(){return Le},getWelcomeScreensLength:function(){return Se}});var o={};function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}n.r(o),n.d(o,{getBlocks:function(){return je}});var i=window.wp.element,a=window.qf.adminComponents,c=n(9196),s=window.wp.data;function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},u(e,t)}var p=new Map,m=new WeakMap,f=0;function h(e,t,n,r){if(void 0===n&&(n={}),void 0===r&&(r=undefined),void 0===window.IntersectionObserver&&void 0!==r){var o=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"==typeof n.threshold?n.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),function(){}}var l=function(e){var t=function(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(m.has(n)||(f+=1,m.set(n,f.toString())),m.get(n)):"0":e[t]);var n})).toString()}(e),n=p.get(t);if(!n){var r,o=new Map,l=new IntersectionObserver((function(t){t.forEach((function(t){var n,l=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=l),null==(n=o.get(t.target))||n.forEach((function(e){e(l,t)}))}))}),e);r=l.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:l,elements:o},p.set(t,n)}return n}(n),i=l.id,a=l.observer,c=l.elements,s=c.get(e)||[];return c.has(e)||c.set(e,s),s.push(t),a.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(c.delete(e),a.unobserve(e)),0===c.size&&(a.disconnect(),p.delete(i))}}var b=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function v(e){return"function"!=typeof e.children}var k=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),v(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var o=r.prototype;return o.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},o.componentWillUnmount=function(){this.unobserve(),this.node=null},o.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,o=e.trackVisibility,l=e.delay,i=e.fallbackInView;this._unobserveCb=h(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:o,delay:l},i)}},o.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},o.render=function(){if(!v(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,o=r.children,l=r.as,i=function(e,t){if(null==e)return{};var n,r,o={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(r,b);return c.createElement(l||"div",d({ref:this.handleNode},i),o)},r}(c.Component);k.displayName="InView",k.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1};var g=n(2955),y=n.n(g),E=e=>{let{id:t,parentId:n,children:r,isSelected:o}=e;const{setCurrentBlock:l,setCurrentChildBlock:a}=(0,s.useDispatch)("quillForms/block-editor");return(0,i.createElement)("div",{role:"presentation",onClick:e=>{e.stopPropagation(),n?(l(n),a(t)):l(t)},id:`block-editor-box-wrapper-${t}`,className:y()("block-editor-box-wrapper",{isSelected:o})},r)},C=window.wp.hooks,x=window.lodash,w=window.wp.components,B=window.emotion,_=n(4250),I=e=>{let{messages:t,approve:n,reject:r,closeModal:o}=e;return(0,i.createElement)(w.Modal,{className:y()("block-editor-delete-alert-modal",B.css`
					border: none !important;
					min-width: 420px !important;
					max-width: 470px !important;
					border-radius: 10px;
					z-index: 1111111;
				`),shouldCloseOnClickOutside:!1,title:"Warning!",onRequestClose:o},(0,i.createElement)("div",null,(0,i.createElement)("div",null,"Are you sure you want to delete this item? All of its data will be deleted."),(0,x.size)(t)>0&&(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",null,1===t.length?t[0]:t.map(((e,t)=>(0,i.createElement)("div",{key:t},`${t+1}. ${e}`)))),(0,i.createElement)("br",null),(0,i.createElement)("div",null,"Are you sure you want to proceed?"))),(0,i.createElement)("div",{className:B.css`
					display: flex;
					margin-top: 10px;
					justify-content: flex-end;
				`},(0,i.createElement)(a.Button,{isDefault:!0,isLarge:!0,className:B.css`
						margin-right: 10px !important;
					`,onClick:()=>{r()}},"Cancel"),(0,i.createElement)(a.Button,{isLarge:!0,className:B.css`
						width: 70px;
						display: flex;
						justify-content: center;
						align-items: center;
					`,onClick:()=>{n()},isPrimary:!0},"Delete")))},S=e=>{let{id:t,index:n,parentId:r,parentIndex:o}=e;const{deleteBlock:l,__experimentalInsertBlock:a}=(0,s.useDispatch)("quillForms/block-editor"),{block:c}=(0,s.useSelect)((e=>({block:e("quillForms/block-editor").getBlockById(t,o)})));return c?(0,i.createElement)(w.DropdownMenu,{label:"",icon:"ellipsis",className:y()("block-editor-block-actions__dropdown",B.css`
					.components-menu-item__item {
						min-width: auto;
					}
				`)},(e=>{let{onClose:o}=e;return(0,i.createElement)(w.MenuGroup,{className:"block-editor-block-actions__menu-group"},"welcome-screen"!==c.name&&(0,i.createElement)(w.MenuItem,{onClick:()=>{o(),a({...c,id:Math.random().toString(36).substr(2,9)},n+1,r)}},"Duplicate"),(0,i.createElement)(w.MenuItem,{onClick:e=>{o(),(e=>{e.stopPropagation();let n=[];n=n.concat((0,C.applyFilters)("QuillForms.BlockEditor.BlockDeleteAlerts",[],t)),(0,_._1)({customUI:e=>{let{onClose:o}=e;return(0,i.createElement)(I,{messages:n,approve:()=>{(0,C.doAction)("QuillForms.BlockEditor.BlockDelete",t),l(t,r),o()},reject:()=>{o()},closeModal:o})}})})(e)},className:B.css`
							.components-menu-item__item {
								color: #b71717 !important;
							}
						`},"Delete"))})):null},O=(0,c.memo)((e=>{let{id:t,blockName:n}=e;const{blockOrder:r,blockType:o}=(0,s.useSelect)((e=>({blockOrder:e("quillForms/block-editor").getBlockOrderById(t),blockType:e("quillForms/blocks").getBlockType(n)})));return(0,i.createElement)("div",{className:"block-editor-block-controls-header"},(0,i.createElement)(a.BlockIconBox,{icon:null==o?void 0:o.icon,order:r,color:null==o?void 0:o.color}),(0,i.createElement)("div",{className:"block-editor-block-controls-header__block-title"},null==o?void 0:o.title),(0,i.createElement)("div",{className:"block-editor-block-controls-header__block-id"},"ID: ",t))})),N=window.wp.mediaUtils,T=window.qf.themeEditor,F=e=>{let{blockTheme:t,setAttributes:n}=e;const[r,o]=(0,c.useState)(!1),[l,d]=(0,c.useState)(!t);(0,c.useEffect)((()=>{d(!t)}),[t]);const{themesList:u}=(0,s.useSelect)((e=>({themesList:e("quillForms/theme-editor").getThemesList()}))),{setCurrentPanel:p}=(0,s.useDispatch)("quillForms/builder-panels"),m=[{key:"inherit",name:"Inherit"},{key:"override",name:"Override"}];return(0,i.createElement)(i.Fragment,null,(0,i.createElement)(a.BaseControl,null,(0,i.createElement)(a.ControlWrapper,{orientation:"horizontal"},(0,i.createElement)(a.ControlLabel,{label:"Theme"}),(0,i.createElement)(a.SelectControl,{label:"",className:B.css`
							margin-top: 5px;
						`,onChange:e=>{let{selectedItem:t}=e;"inherit"===(null==t?void 0:t.key)?(n({themeId:void 0}),d(!0)):d(!1)},options:m,value:m.find((e=>e.key===(!0===l?"inherit":"override")))})),!l&&(0,i.createElement)(a.ControlWrapper,{orientation:"horizontal"},(0,i.createElement)(a.ControlLabel,{label:"Select theme"}),0===(null==u?void 0:u.length)?(0,i.createElement)(a.Button,{isSecondary:!0,isButton:!0,isDefault:!0,onClick:()=>{p("theme")}},"Create a theme first!"):(0,i.createElement)(a.Button,{isPrimary:!0,isButton:!0,isDefault:!0,onClick:()=>{o(!0)}},"Select a theme"))),r&&(0,i.createElement)(w.Modal,{className:y()("block-editor-block-theme-modal",B.css`
							border: none !important;
							min-width: 500px !important;
							border-radius: 10px;
							z-index: 1111111;

							.components-modal__content {
								background: #eee;
							}

							.components-modal__header {
								background: #a120f1;
								.components-modal__header-heading {
									color: #fff;
								}
								.components-button.has-icon svg {
									fill: #fff;
								}
							}
						`),shouldCloseOnClickOutside:!1,title:"Select a theme!",onRequestClose:()=>{o(!1)}},(0,i.createElement)("div",{className:"theme-editor-themes-list"},u.map(((e,r)=>(0,i.createElement)(T.ThemeCard,{index:r,key:e.id,isSelected:e.id===t},(0,i.createElement)(T.ThemeListItem,{theme:e,onClick:()=>{n({themeId:e.id})}})))))))},R=window.wp.i18n,L=n(2531),M=e=>{let{value:t,onChange:n}=e;return(0,i.createElement)(i.Fragment,null,(0,i.createElement)("div",{className:B.css`
					textarea {
						min-height: 100px;
						width: 100%;
						margin-top: 10px;
					}
				`},(0,i.createElement)(L.Z,{value:t,onChange:e=>{var t;return n(null===(t=e.target)||void 0===t?void 0:t.value)},placeholder:(0,R.__)("Write HTMLâ€¦"),"aria-label":(0,R.__)("HTML")})))};const P=e=>{let{children:t,isSelected:n,onClick:r}=e;return(0,i.createElement)("div",{className:B.css`
				width: 56px;
				height: 40px;
				border: 1px solid ${n?"#a120f1":"#7c7c7c"};
				border-radius: 5px;
				display: flex;
				flex-direction: column;
				justify-content: center;
				cursor: pointer;
				${!n&&"&:hover {\n\t\t\t\t\tborder-color: #424141;\n\t\t\t\t > div div {\n\t\t\t\t\tbackground: #424141;\n\t\t\t\t}"}
				${n&&" > div div {\n\t\t\t\t\tbackground: #a120f1\n\t\t\t\t}"}
			`,onClick:r},t)},q=e=>{let{isHeading:t}=e;return(0,i.createElement)("div",{className:B.css`
				height: 2px;
				width: ${t?"16px":"12px"};
				background: #7c7c7c;
			`})},z=e=>{let{direction:t="right"}=e;return(0,i.createElement)("div",{className:B.css`
				display: flex;
				align-items: center;
				justify-content: space-evenly;
				flex-direction: ${"right"===t?"row":"row-reverse"};
			`},(0,i.createElement)("div",{className:B.css`
					background: transparent !important;
				`},(0,i.createElement)(q,{isHeading:!0}),(0,i.createElement)("div",{className:B.css`
						margin: 4px 0;
						background: transparent !important;
					`}),(0,i.createElement)(q,null)),(0,i.createElement)("div",{className:B.css`
					width: 16px;
					height: 12px;
					background: #7c7c7c;
				`}))},A=e=>{let{direction:t="right"}=e;return(0,i.createElement)("div",{className:B.css`
				display: flex;
				align-items: center;
				justify-content: space-evenly;
				flex-direction: ${"right"===t?"row":"row-reverse"};
			`},(0,i.createElement)("div",{className:B.css`
					background: transparent !important;
				`},(0,i.createElement)(q,{isHeading:!0}),(0,i.createElement)("div",{className:B.css`
						margin: 4px 0;
						background: transparent !important;
					`}),(0,i.createElement)(q,null)),(0,i.createElement)("div",{className:B.css`
					width: 50%;
					min-height: 36px;
					border-radius: 3px;
					background: #7c7c7c;
				`}))};var D=e=>{var t;let{layout:n,setAttributes:r}=e;return n=null!==(t=n)&&void 0!==t?t:"stack",(0,i.createElement)("div",{className:"block-editor-block-layouts"},(0,i.createElement)(P,{onClick:()=>{r({layout:"stack"})},isSelected:"stack"===n},(0,i.createElement)("div",{className:B.css`
						padding: 0 11px;
					`},(0,i.createElement)(q,{isHeading:!0}),(0,i.createElement)("div",{className:B.css`
							width: 24px;
							height: 15px;
							background: #7c7c7c;
							margin: 4px 0;
						`}),(0,i.createElement)(q,null))),(0,i.createElement)(P,{onClick:()=>{r({layout:"float-right"})},isSelected:"float-right"===n},(0,i.createElement)(z,null)),(0,i.createElement)(P,{onClick:()=>{r({layout:"float-left"})},isSelected:"float-left"===n},(0,i.createElement)(z,{direction:"left"})),(0,i.createElement)(P,{onClick:()=>{r({layout:"split-right"})},isSelected:"split-right"===n},(0,i.createElement)(A,null)),(0,i.createElement)(P,{onClick:()=>{r({layout:"split-left"})},isSelected:"split-left"===n},(0,i.createElement)(A,{direction:"left"})))},H=e=>{let{onChange:t,attachmentBorderRadius:n}=e;return(0,i.createElement)("div",{className:"block-editor-border-radius-templates"},["30% 70% 70% 30% / 30% 30% 70% 70%","43% 57% 70% 30% / 37% 37% 63% 63%","39% 56% 40% 60% / 50% 57% 33% 42%","39% 61% 70% 30% / 70% 64% 36% 30%","54% 46% 63% 37% / 52% 48% 52% 48%","39% 61% 70% 30% / 54% 24% 76% 46%","31% 69% 52% 48% / 67% 26% 74% 33%","66% 34% 73% 27% / 39% 58% 42% 61%","87% 12% 100% 10% / 54% 10% 43% 10%","100% 1% 100% 73% / 91% 49% 77% 0%"].map((e=>(0,i.createElement)("div",{key:e,className:y()("block-editor-border-radius-template",{selected:e===n}),onClick:()=>{t(e)}},(0,i.createElement)("div",{style:{borderRadius:e}})))))},W=e=>{var t,n,r,o,l;let{blockName:d,parentId:u,attributes:p,setAttributes:m}=e;const{editableSupport:f,requiredSupport:h,attachmentSupport:b,themeSupport:v}=(0,s.useSelect)((e=>({editableSupport:e("quillForms/blocks").hasBlockSupport(d,"editable"),requiredSupport:e("quillForms/blocks").hasBlockSupport(d,"required"),attachmentSupport:e("quillForms/blocks").hasBlockSupport(d,"attachment"),themeSupport:e("quillForms/blocks").hasBlockSupport(d,"theme")})));let k,g,y;return p&&(k=p.required,g=p.attachment,y=p.themeId),(0,i.createElement)(c.Fragment,null,f&&h&&(0,i.createElement)(a.BaseControl,null,(0,i.createElement)(a.ControlWrapper,null,(0,i.createElement)(a.ControlLabel,{label:"Required"}),(0,i.createElement)(a.ToggleControl,{checked:k,onChange:()=>m({required:!k})}))),b&&!u&&(0,i.createElement)(c.Fragment,null,(0,i.createElement)(a.BaseControl,null,(0,i.createElement)(a.ControlWrapper,null,(0,i.createElement)(a.ControlLabel,{label:"Image"}),(0,x.isEmpty)(g)?(0,i.createElement)(N.MediaUpload,{onSelect:e=>m({attachment:{type:"image",url:e.url}}),allowedTypes:["image"],render:e=>{let{open:t}=e;return(0,i.createElement)("button",{className:"media-upload-btn",onClick:t},"Add")}}):(0,i.createElement)("button",{className:"remove-media-btn",onClick:()=>m({attachment:{}}),color:"secondary"},"Remove"))),(0,i.createElement)(a.BaseControl,null,(0,i.createElement)(a.ControlWrapper,{orientation:"vertical"},(0,i.createElement)(a.ControlLabel,{label:"Layout",isNew:!0}),(0,i.createElement)(D,{layout:null==p?void 0:p.layout,setAttributes:m}))),("split-left"===(null==p?void 0:p.layout)||"split-right"===(null==p?void 0:p.layout))&&(null==p||null===(t=p.attachment)||void 0===t?void 0:t.url)&&(0,i.createElement)(a.BaseControl,null,(0,i.createElement)(a.ControlWrapper,{orientation:"vertical"},(0,i.createElement)(a.ControlLabel,{label:"Focal Point Picker",isNew:!0}),(0,i.createElement)("div",{className:B.css`
											max-width: 300px;
										`},(0,i.createElement)(w.FocalPointPicker,{url:null==p||null===(n=p.attachment)||void 0===n?void 0:n.url,value:null==p?void 0:p.attachmentFocalPoint,onDragStart:e=>{m({attachmentFocalPoint:e})},onDrag:e=>{m({attachmentFocalPoint:e})},onChange:e=>{m({attachmentFocalPoint:e})}})))),("float-left"===(null==p?void 0:p.layout)||"float-right"===(null==p?void 0:p.layout)||"stack"===(null==p?void 0:p.layout))&&(null==p||null===(r=p.attachment)||void 0===r?void 0:r.url)&&(0,i.createElement)(c.Fragment,null,(0,i.createElement)(a.BaseControl,null,(0,i.createElement)(a.ControlWrapper,{orientation:"horizontal"},(0,i.createElement)(a.ControlLabel,{label:"Set Maximum Width for attachment",isNew:!0}),(0,i.createElement)(a.ToggleControl,{checked:"none"!==(null==p?void 0:p.attachmentMaxWidth),onChange:()=>{"none"===(null==p?void 0:p.attachmentMaxWidth)?m({attachmentMaxWidth:"200px"}):m({attachmentMaxWidth:"none"})}})),(0,i.createElement)(c.Fragment,null,"none"!==p.attachmentMaxWidth&&(0,i.createElement)(a.ControlWrapper,{orientation:"vertical"},(0,i.createElement)(a.ControlLabel,{label:"Maximum Width(px)"}),(0,i.createElement)(w.RangeControl,{value:parseInt(null!==(o=null==p||null===(l=p.attachmentMaxWidth)||void 0===l?void 0:l.replace("px",""))&&void 0!==o?o:"0"),onChange:e=>m({attachmentMaxWidth:e+"px"}),min:50,max:900})))),(0,i.createElement)(a.BaseControl,null,(0,i.createElement)(a.ControlWrapper,{orientation:"horizontal"},(0,i.createElement)(a.ControlLabel,{label:"Use Fancy Border Radius",isNew:!0}),(0,i.createElement)(a.ToggleControl,{checked:null==p?void 0:p.attachmentFancyBorderRadius,onChange:()=>{p.attachmentFancyBorderRadius&&m({attachmentBorderRadius:"0px"}),m({attachmentFancyBorderRadius:!p.attachmentFancyBorderRadius})}})),p.attachmentFancyBorderRadius&&(0,i.createElement)(a.ControlWrapper,{orientation:"vertical"},(0,i.createElement)(a.ControlLabel,{label:"Choose your favorite fancy border radius"}),(0,i.createElement)(H,{onChange:e=>{m({attachmentBorderRadius:e})},attachmentBorderRadius:p.attachmentBorderRadius}))))),!u&&(0,i.createElement)(c.Fragment,null,(0,i.createElement)(a.BaseControl,null,(0,i.createElement)(a.ControlWrapper,{orientation:"vertical"},(0,i.createElement)(a.ControlLabel,{label:"Custom HTML",isNew:!0}),(0,i.createElement)(M,{value:null==p?void 0:p.customHTML,onChange:e=>{m({customHTML:e})}}))),v&&(0,i.createElement)(F,{blockTheme:y,setAttributes:m})))},j=e=>{let{parentId:t}=e;const{setBlockAttributes:n}=(0,s.useDispatch)("quillForms/block-editor");let{currentBlockId:r,currentChildBlockIndex:o,currentChildBlockId:l,currentFormBlock:a,blockTypes:c}=(0,s.useSelect)((e=>{const{getCurrentBlockId:t,getCurrentChildBlockId:n,getCurrentChildBlockIndex:r,getCurrentBlock:o}=e("quillForms/block-editor");return{currentBlockId:t(),currentChildBlockIndex:r(),currentChildBlockId:n(),currentFormBlock:o(),blockTypes:e("quillForms/blocks").getBlockTypes()}}));if(!r||!a)return null;l&&(a=a.innerBlocks[o],r=l);const d=c[a.name],{name:u}=a;return(0,i.createElement)("div",{className:"block-editor-block-controls"},(0,i.createElement)(O,{id:r,blockName:a.name}),(0,i.createElement)(W,{blockName:u,parentId:t,attributes:a.attributes,setAttributes:e=>{n(r,e,t)}}),(null==d?void 0:d.controls)&&(0,i.createElement)(d.controls,{id:r,parentId:t,attributes:a.attributes,setAttributes:e=>{n(r,e,t)}}))},V=()=>(0,i.createElement)("svg",{focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},(0,i.createElement)("path",{d:"M22.7 19l-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"})),U=e=>{let{id:t,index:n,editor:r,parentId:o,parentIndex:l}=e;const[c,s]=(0,i.useState)(!1);return(0,i.createElement)("div",{className:"block-editor-block-toolbar"},(0,i.createElement)(w.Tooltip,{text:"Controls",position:"bottom center"},(0,i.createElement)("div",{role:"presentation",className:"block-editor-block-toolbar__controls-icon-wrapper",onClick:()=>{s(!0)}},(0,i.createElement)(w.Icon,{className:"block-editor-block-toolbar__controls-icon",icon:V}))),(0,i.createElement)(w.Tooltip,{text:"Recall Information",position:"bottom center"},(0,i.createElement)("div",{className:"block-editor-block-toolbar__merge-tag-icon-wrapper"},(0,i.createElement)("div",{role:"presentation",className:"block-editor-block-toolbar__merge-tag-icon",onClick:()=>{a.__unstableTransforms.insertText(r,"@"),a.__unstableReactEditor.focus(r)}},"@"))),(0,i.createElement)(S,{id:t,index:n,parentIndex:l,parentId:o}),c&&(0,i.createElement)(w.Modal,{overlayClassName:"qf-custom-modal",className:B.css`
						border: none !important;
						min-width: 350px !important;
						min-height: calc( 100% - 54px ) !important;
						margin-bottom: 0 !important;

						.components-modal__content {
							margin-top: 54px;
							background: #eee !important;
						}

						.components-modal__header {
							background: #a120f1;
							.components-modal__header-heading {
								color: #fff;
							}
							.components-button.has-icon svg {
								fill: #fff;
							}
						}
					`,title:"Block Controls",shouldCloseOnClickOutside:!1,onRequestClose:()=>{s(!1)}},(0,i.createElement)(j,{parentId:o})))},$=window.wp.primitives,J=(0,i.createElement)($.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)($.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),K=e=>{let{blockColor:t,attachment:n,id:r,parentId:o}=e;const{setBlockAttributes:l}=(0,s.useDispatch)("quillForms/block-editor");return(0,i.createElement)("div",{className:"block-editor-block-attachment",style:{borderColor:t}},(0,i.createElement)("img",{alt:"",className:"block-editor-block-attachment__image",src:n.url}),(0,i.createElement)("div",{role:"presentation",className:"block-editor-block-attachment__delete",onClick:o},(0,i.createElement)("div",{className:"block-editor-block-attachment__background-wrapper",style:{backgroundColor:t}}),(0,i.createElement)(w.Icon,{icon:J,style:{color:t}})))},Y=window.qf.richText,G=(0,i.createElement)($.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)($.Path,{d:"M19 8h-1V6h-5v2h-2V6H6v2H5c-1.1 0-2 .9-2 2v8c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8c0-1.1-.9-2-2-2zm.5 10c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-8c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v8z"})),X=(0,i.createElement)($.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,i.createElement)($.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),Q=e=>{var t,n,r;let{name:o,id:l}=e;const{blockType:a,block:c}=(0,s.useSelect)((e=>({blockType:e("quillForms/blocks").getBlockType(o),block:e("quillForms/block-editor").getBlockById(l)})));let d=null==a?void 0:a.icon;"block-default"===(null===(t=d)||void 0===t?void 0:t.src)&&(d={src:G}),d||(d=X);const u=(0,i.createElement)(w.Icon,{icon:null!==(n=d)&&void 0!==n&&n.src?d.src:d}),p=(0,Y.getPlainExcerpt)(null==c||null===(r=c.attributes)||void 0===r?void 0:r.label);return(0,i.createElement)("div",{className:"block-editor-block-dragging__wrapper"},(0,i.createElement)("div",{className:"block-editor-block-dragging"},(0,i.createElement)("div",{className:"block-editor-block-dragging__icon-box",style:{background:null!=a&&a.color?a.color:"#bb426f",border:"#fff"===(null==a?void 0:a.color)?"1px solid #e3e3e3":"none"}},u),(0,i.createElement)("div",{className:"block-editor-block-dragging__title-excerpt",dangerouslySetInnerHTML:{__html:p}})))},Z=e=>{let{id:t,index:n,innerBlocks:r,parentColor:o}=e;const{formBlocks:c,currentChildBlockId:d}=(0,s.useSelect)((e=>({formBlocks:e("quillForms/block-editor").getBlocks(),currentChildBlockId:e("quillForms/block-editor").getCurrentChildBlockId()})));return(0,i.createElement)(a.__experimentalDroppable,{type:`container-${t}`,droppableId:`PARENT_${t}_${n}`,renderClone:(e,t,r)=>{var o,a;const s=null===(o=c[n])||void 0===o||null===(a=o.innerBlocks)||void 0===a?void 0:a[r.source.index];return(0,i.createElement)("div",l({},e.draggableProps,e.dragHandleProps,{ref:e.innerRef,style:{...e.draggableProps.style,height:void 0,padding:12}}),(0,i.createElement)(Q,{id:null==s?void 0:s.id,name:null==s?void 0:s.name}))}},((e,c)=>(0,i.createElement)("div",l({className:y()("block-editor-children-container",{"disable-hover-highlight":c.isDraggingOver})},e.droppableProps,{ref:e.innerRef}),r&&0!==(0,x.size)(r)?(0,i.createElement)("div",null,r.map(((e,r)=>(0,i.createElement)("div",{className:y()("block-editor-child-wrapper",{isSelected:e.id===d}),key:e.id},(0,i.createElement)(ie,{key:e.id,id:e.id,name:e.name,index:r,parentId:t,parentIndex:n}),(0,i.createElement)("div",{className:y()("block-editor-child-connection-point",B.css`
													background: ${o};
												`)})))),(0,i.createElement)("div",{className:y()("block-editor-children-connection-line",B.css`
										background: ${o};
									`)})):(0,i.createElement)("div",{className:B.css`
								display: flex;
								align-items: center;
								padding: 20px;
							`},(0,i.createElement)(a.BlockTypesListDropdown,{destinationIndex:0,parent:t,color:"primary"}),(0,i.createElement)("span",{className:B.css`
									font-size: 14px;
								`},"Add your first question")),e.placeholder)))},ee=e=>{const{setBlockAttributes:t,setCurrentBlock:n,setCurrentChildBlock:r}=(0,s.useDispatch)("quillForms/block-editor"),{attributes:o,id:l,blockColor:c,label:d,desc:u,index:p,name:m,setLabelJsonVal:f,setDescJsonVal:h,parentIndex:b,parentId:v,labelEditor:k,isContainer:g,innerBlocks:y,descEditor:E,focusedEl:w,setFocusedEl:B,isSelected:_}=e;let I;null!=o&&o.attachment&&(I=o.attachment);const{blockTypes:S}=(0,s.useSelect)((e=>({blockTypes:e("quillForms/blocks").getBlockTypes()}))),{prevFields:O}=(0,s.useSelect)((e=>({prevFields:e("quillForms/block-editor").getPreviousEditableFieldsWithOrder(l)})));let N=O.map((e=>{var t,n,r;return{type:"field",label:null==e||null===(t=e.attributes)||void 0===t?void 0:t.label,modifier:e.id,icon:null===(n=S[e.name])||void 0===n?void 0:n.icon,color:null===(r=S[e.name])||void 0===r?void 0:r.color,order:e.order}}));N=N.concat((0,C.applyFilters)("QuillForms.Builder.MergeTags",[]));let T=k;"desc"===w&&(T=E);const F=(0,i.useCallback)((0,x.debounce)((e=>{t(l,{label:(0,a.__unstableHtmlSerialize)(e)},v)}),200),[]),R=(0,i.useCallback)((0,x.debounce)((e=>{t(l,{description:(0,a.__unstableHtmlSerialize)(e)},v)}),200),[]);(0,i.useEffect)((()=>{_&&("label"!==w&&w?"desc"===w&&a.__unstableReactEditor.focus(E):a.__unstableReactEditor.focus(k))}),[]);const L=(0,i.useMemo)((()=>(0,i.createElement)("div",{className:"block-editor-block-edit__title-editor"},(0,i.createElement)(a.__experimentalEditor,{editor:k,placeholder:"Type question here...",color:"#262627",mergeTags:N,value:d,onChange:e=>(e=>{JSON.stringify(e)!==JSON.stringify(d)&&(f(e),F(e))})(e),onFocus:()=>{v?(n(v),r(l)):n(l),B("label")},allowedFormats:["bold","italic","link"]}))),[JSON.stringify(d),JSON.stringify(N),p]),M=(0,i.useMemo)((()=>(0,i.createElement)("div",{className:"block-editor-block-edit__desc-editor"},(0,i.createElement)(a.__experimentalEditor,{editor:E,placeholder:"Write your description here",color:"#898989",value:u,mergeTags:N,onChange:e=>(e=>{JSON.stringify(e)!==JSON.stringify(u)&&(h(e),R(e))})(e),onFocus:()=>{v?(n(v),r(l)):n(l),B("desc")},allowedFormats:["bold","italic","link"]}))),[JSON.stringify(u),JSON.stringify(N),p]);return(0,i.createElement)("div",{className:"block-editor-block-edit"},(0,i.createElement)("div",{className:"block-editor-block-edit__text-editor"},L,!v&&M),I&&"image"===I.type&&(0,i.createElement)(K,{id:l,parentId:v,blockColor:c,attachment:I}),(0,i.createElement)(U,{parentIndex:b,parentId:v,id:l,index:p,editor:T}),(0,i.createElement)(i.Fragment,null,g&&(0,i.createElement)(Z,{innerBlocks:y,index:p,id:l,parentColor:S[m].color})))},te=()=>(0,i.createElement)("div",{className:"block-editor-block-placeholder"},(0,i.createElement)("div",{className:"block-editor-block-placeholder__animation-tile"}),(0,i.createElement)("div",{className:"block-editor-block-placeholder__animation-tile"})),ne=e=>{let{blockType:t,id:n,parentIndex:r,handleProps:o}=e;const{blockOrder:c}=(0,s.useSelect)((e=>({blockOrder:e("quillForms/block-editor").getBlockOrderById(n,r)})));return(0,i.createElement)("div",l({className:"block-editor-block-mover"},o),(0,i.createElement)(a.BlockIconBox,{icon:null==t?void 0:t.icon,order:c,color:null==t?void 0:t.color}))};class re extends c.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){this.props.onError(e),this.setState({hasError:!0})}render(){return this.state.hasError?null:this.props.children}}var oe=re,le=()=>(0,i.createElement)("div",{className:"block-edit-crash-warning"},"The block has an error!"),ie=e=>{let{id:t,index:n,name:r,parentId:o,parentIndex:d}=e;const[u,p]=function(e){var t=void 0===e?{}:e,n=t.threshold,r=t.delay,o=t.trackVisibility,l=t.rootMargin,i=t.root,a=t.triggerOnce,s=t.skip,d=t.initialInView,u=t.fallbackInView,p=c.useRef(),m=c.useState({inView:!!d}),f=m[0],b=m[1],v=c.useCallback((function(e){void 0!==p.current&&(p.current(),p.current=void 0),s||e&&(p.current=h(e,(function(e,t){b({inView:e,entry:t}),t.isIntersecting&&a&&p.current&&(p.current(),p.current=void 0)}),{root:i,rootMargin:l,threshold:n,trackVisibility:o,delay:r},u))}),[Array.isArray(n)?n.toString():n,i,l,a,s,o,u,r]);(0,c.useEffect)((function(){p.current||!f.entry||a||s||b({inView:!!d})}));var k=[v,f.inView,f.entry];return k.ref=k[0],k.inView=k[1],k.entry=k[2],k}({threshold:0}),{isSelected:m,block:f,blockType:b}=(0,s.useSelect)((e=>({block:e("quillForms/block-editor").getBlockById(t,d),blockType:e("quillForms/blocks").getBlockType(r),isSelected:o?e("quillForms/block-editor").getCurrentChildBlockId()===t:e("quillForms/block-editor").getCurrentBlockId()===t})));if(!f||!b)return null;const{attributes:v,innerBlocks:k}=f,g=null!=v&&v.label?v.label:"",y=null!=v&&v.label?v.description:"",[C,x]=(0,c.useState)([{type:"paragraph",children:[{text:""}]}]),[w,B]=(0,c.useState)([{type:"paragraph",children:[{text:""}]}]),[_,I]=(0,c.useState)(void 0),[S,O]=(0,c.useState)(!1),N=e=>(0,a.__unstableHtmlDeserialize)(e);(0,c.useEffect)((()=>{x(N(g)),y&&B(N(y))}),[]);const T=(0,c.useMemo)((()=>(0,a.__unstableCreateEditor)()),[]),F=(0,c.useMemo)((()=>(0,a.__unstableCreateEditor)()),[]);return S?(0,i.createElement)(le,null):(0,i.createElement)(s.AsyncModeProvider,{value:!m},(0,i.createElement)("div",{ref:u},(0,i.createElement)(oe,{onError:()=>O(!0)},(0,i.createElement)(a.__experimentalDraggable,{isDragDisabled:!p||"welcome-screen"===r,key:t,draggableId:t.toString(),index:n},((e,s)=>{var u;return(0,i.createElement)(E,{id:t,parentId:o,isSelected:m},(0,i.createElement)("div",{className:"block-editor-block-edit-box__content-wrapper"},(0,i.createElement)("div",l({className:"block-editor-block-edit-box__content"},e.draggableProps,{ref:e.innerRef,style:e.draggableProps.style}),p?(0,i.createElement)(c.Fragment,null,(0,i.createElement)(ne,{parentIndex:d,handleProps:null!=e&&e.dragHandleProps?{...e.dragHandleProps}:void 0,id:t,blockType:b}),(0,i.createElement)(ee,{isSelected:m,name:r,attributes:v,focusedEl:_,setFocusedEl:e=>I(e),isContainer:null==b||null===(u=b.supports)||void 0===u?void 0:u.innerBlocks,parentIndex:d,parentId:o,innerBlocks:k,id:t,index:n,blockColor:null==b?void 0:b.color,label:C,desc:w,labelEditor:T,setLabelJsonVal:e=>x(e),descEditor:F,setDescJsonVal:e=>B(e)}),(0,i.createElement)(a.BlockTypesListDropdown,{destinationIndex:n+1,parent:o,color:"secodary"})):(0,i.createElement)(c.Fragment,null,(0,i.createElement)(a.BlockIconWrapper,{color:null==b?void 0:b.color}),(0,i.createElement)(te,null)))))})))))};const ae="SET_BLOCK_ATTRIBUTES",ce="REORDER_BLOCKS",se="INSERT_BLOCK",de="SET_CURRENT_BLOCK",ue="DELETE_BLOCK",pe="SET_CURRENT_CHILD_BLOCK",me="SETUP_STORE";function fe(e){const t=["WELCOME_SCREENS","OTHERS","THANKYOU_SCREENS"];return e.sort(((e,n)=>{const r=e=>{switch(e.name){case"welcome-screen":return"WELCOME_SCREENS";case"thankyou-screen":return"THANKYOU_SCREENS";default:return"OTHERS"}};return t.indexOf(r(e))-t.indexOf(r(n))})),e}const he={currentBlockId:void 0,currentChildBlockId:void 0,blocks:[]};var be=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:{const{initialPayload:n}=t;return n.length>0&&!e.currentBlockId?{blocks:n,currentBlockId:n[0].id,currentChildBlockId:void 0}:{...e,blocks:n}}case ae:{console.log(t);const{blockId:r,attributes:o,parentId:l}=t;let i,a=[...e.blocks];if(!a)return e;var n;void 0!==l&&(i=a.findIndex((e=>e.id===l)),a=null===(n=[...e.blocks][i])||void 0===n?void 0:n.innerBlocks);const c=a.findIndex((e=>e.id===r));if(-1===c)return e;const s={...(0,x.cloneDeep)(a[c].attributes),...(0,x.cloneDeep)(o)};a[c].attributes=s;const d=[...e.blocks];return void 0!==i&&(d[i].innerBlocks=a,a=d),{...e,blocks:a}}case ce:{const{sourceIndex:n,destinationIndex:r,parentSourceIndex:o,parentDestIndex:l}=t,i=[...e.blocks],a=Array.from(i);let c;if(void 0===o)c=i[n],a.splice(n,1);else{const e=i[o].innerBlocks;c=i[o].innerBlocks[n],e.splice(n,1),a[o].innerBlocks=e}if(void 0===l||"group"===c.name)a.splice(r,0,c);else{const e=i[l].innerBlocks;e.splice(r,0,c),a[l].innerBlocks=e}return{...e,blocks:fe(a)}}case se:{const{block:n,destinationIndex:l,parent:i}=t,a=[...e.blocks],c=l;let s;if(void 0===c||c<0)return e;if(i){var r,o;const e=a.findIndex((e=>e.id===i));s=a[e],a[e].innerBlocks||(a[e].innerBlocks=[]),null===(r=a[e])||void 0===r||null===(o=r.innerBlocks)||void 0===o||o.splice(c,0,{...n})}else a.splice(c,0,{...n});return{blocks:fe(a),currentBlockId:s?s.id:n.id,currentChildBlockId:s?n.id:void 0}}case ue:{const{blockId:n,parentId:r}=t,o=[...e.blocks];let l,i=o;if(!i)return e;void 0!==r&&(l=i.findIndex((e=>e.id===r)),i=i[l].innerBlocks);const a=i.findIndex((e=>e.id===n));if(-1===a)return e;const c=i[a+1],s=i[a-1];i.splice(a,1);const d=c?c.id:s?s.id:void 0;if(void 0!==l){const e=o;e[l].innerBlocks=i,i=e}return{...e,currentBlockId:void 0===l?d:e.currentBlockId,currentChildBlockId:void 0===l?void 0:d,blocks:i}}case de:{const{blockId:n}=t;return-1===e.blocks.findIndex((e=>e.id===n))?e:{...e,currentBlockId:n,currentChildBlockId:void 0}}case pe:{const{blockId:n}=t;return{...e,currentChildBlockId:n}}}return e};function ve(e){return{type:me,initialPayload:e}}const ke=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return{type:ae,blockId:e,attributes:t,parentId:n}},ge=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return{type:ce,sourceIndex:e,destinationIndex:t,parentSourceIndex:n,parentDestIndex:r}},ye=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return{type:se,block:e,destinationIndex:t,parent:n}},Ee=e=>({type:de,blockId:e}),Ce=e=>({type:pe,blockId:e}),xe=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return{type:ue,blockId:e,parentId:t}};var we=window.qf.blocks,Be=window.qf.utils;const _e=e=>e.blocks,Ie=e=>{const t=e.blocks,n=[];return(0,x.size)(t)>0&&(0,x.forEach)(t,(e=>{n.push(e),(0,x.size)(null==e?void 0:e.innerBlocks)>0&&(0,x.forEach)(e.innerBlocks,(e=>{n.push(e)}))})),n};function Se(e){return e.blocks.filter((e=>"welcome-screen"===e.name)).length}const Oe=function(e,t){var n;let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(void 0===r){const n=e.blocks.find((e=>e.id===t));if(!n)return;return n}if(!e.blocks||!e.blocks[r]||!e.blocks[r].innerBlocks)return;const o=null===(n=e.blocks[r].innerBlocks)||void 0===n?void 0:n.find((e=>e.id===t));return o||void 0},Ne=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r=Oe(e,t,n);if(!r)return;const o=(0,s.select)("quillForms/blocks").getBlockTypes()[r.name],l=(0,s.select)("quillForms/block-editor").getBlocksByCriteria({editable:!0,innerBlocks:!0},"or");let i;if(void 0===n)if(!0===o.supports.editable||!0===o.supports.innerBlocks)i=l.findIndex((e=>e.id===t))+1;else{const n=e.blocks.filter((e=>e.name===r.name)).findIndex((e=>e.id===t));i=(0,Be.identAlphabetically)(n)}else{const r=e.blocks[n].innerBlocks.findIndex((e=>e.id===t));i=n+1+(0,Be.identAlphabetically)(r)}return i};function Te(e){return _e(e).filter((e=>!0===(0,s.select)("quillForms/blocks").getBlockTypes()[e.name].supports.editable))}const Fe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"and";const r=_e(e),o=(0,x.pick)(t,["logic","required","attachment","description","editable","numeric","innerBlocks"]);return r.filter((e=>{const t=(0,s.select)("quillForms/blocks").getBlockTypes()[e.name];return"and"===n?Object.entries(o).every((e=>{let[n,r]=e;return"boolean"!=typeof r||t.supports[n]===r})):Object.entries(o).some((e=>{let[n,r]=e;return"boolean"!=typeof r||t.supports[n]===r}))}))},Re=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=_e(e),l=(0,x.pick)(t,["logic","required","attachment","description","editable","numeric"]),i=(0,x.findIndex)(o,(e=>e.id===n));return i>0?(0,x.slice)(o,0,r?i+1:i).filter((e=>{const t=(0,s.select)("quillForms/blocks").getBlockTypes()[e.name];return Object.entries(l).every((e=>{let[n,r]=e;return"boolean"!=typeof r||t.supports[n]===r}))})):[]},Le=(e,t)=>{const n=[],r=_e(e),o=(0,x.findIndex)(r,(e=>e.id===t));if(o>0){const t=(0,x.slice)(r,0,o);(0,x.forEach)(t,(t=>{var r;const o=(0,we.getBlockType)(t.name);null!=o&&null!==(r=o.supports)&&void 0!==r&&r.editable&&n.push({...t,order:Ne(e,t.id)})}))}return n};function Me(e){return Te(e).length}function Pe(e){return e.currentBlockId}function qe(e){return e.currentChildBlockId}function ze(e){return e.blocks.findIndex((t=>t.id===e.currentBlockId))}function Ae(e){var t,n;const r=ze(e);if(e.blocks&&0!==e.blocks.length&&void 0!==r&&e.blocks[r])return null===(t=e.blocks[r])||void 0===t||null===(n=t.innerBlocks)||void 0===n?void 0:n.findIndex((t=>t.id===e.currentChildBlockId))}function De(e){let t;const n=e.blocks.findIndex((t=>t.id===e.currentBlockId));return-1!==n&&(t=e.blocks[n]),t}var He=window.qf.config,We=n.n(He);const je=()=>{const e=We().getInitialPayload();return ve(null!=e&&e.blocks?(0,we.sanitizeBlocks)(e.blocks):[])},Ve=(0,s.createReduxStore)("quillForms/block-editor",{actions:e,selectors:t,reducer:be,resolvers:o});(0,s.register)(Ve)}(),(window.qf=window.qf||{}).blockEditor=r}();
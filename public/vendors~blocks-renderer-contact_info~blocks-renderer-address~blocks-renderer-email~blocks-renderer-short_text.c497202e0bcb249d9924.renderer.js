"use strict";(self.webpackChunk_typeform_renderer=self.webpackChunk_typeform_renderer||[]).push([[958,916],{22035:(L,y,g)=>{g.d(y,{Z:()=>Z});var u=g(71383),b=g(35291),A=g(68656),_=g(72081),m=g(58583),C=c=>{var[l,s]=(0,u.useState)(null);return(0,u.useEffect)(()=>{var o;c&&((o=navigator==null?void 0:navigator.permissions)===null||o===void 0||o.query({name:"microphone"}).then(f=>{s(f.state)}))},[c]),{microphonePermission:l,setMicrophonePermission:s}};const k=C;var M=function(c,l,s,o){function f(e){return e instanceof s?e:new s(function(r){r(e)})}return new(s||(s=Promise))(function(e,r){function n(a){try{i(o.next(a))}catch(v){r(v)}}function t(a){try{i(o.throw(a))}catch(v){r(v)}}function i(a){a.done?e(a.value):f(a.value).then(n,t)}i((o=o.apply(c,l||[])).next())})};class d{constructor(l){this.handleResultEvent=s=>{if(s.results.length===1&&s.results[0].isFinal){this.stop();var o=s.results[0][0].transcript;this.props.finalResultCallback(o),this.stop()}else{var f="";Object.keys(s.results).forEach(e=>{f+=s.results[e][0].transcript}),this.props.interimResultCallback(f)}},this.handleError=s=>{var o;(o=this.recognition)===null||o===void 0||o.stop(),this.props.onError(!0,s.error),this.props.onListeningChange(!1)},this.recognition=null,this.props=l,this.browserSupportsRecognition=!!(window.SpeechRecognition||window.webkitSpeechRecognition),this.setRecognition()}setRecognition(){var l=window.SpeechRecognition||window.webkitSpeechRecognition;l&&(this.recognition=new l,this.recognition&&(this.recognition.continuous=!1,this.recognition.lang="en-US",this.recognition.interimResults=!0,this.recognition.maxAlternatives=1,this.recognition.onresult=this.handleResultEvent,this.recognition.onerror=this.handleError))}start(){var l,s;return M(this,void 0,void 0,function*(){try{yield(l=this.recognition)===null||l===void 0?void 0:l.start(),this.props.onListeningChange(!0)}catch(o){this.props.onError(!0),(s=this.recognition)===null||s===void 0||s.stop()}})}stop(){var l;(l=this.recognition)===null||l===void 0||l.stop(),this.props.onListeningChange(!1)}}var H=function(c,l,s,o){function f(e){return e instanceof s?e:new s(function(r){r(e)})}return new(s||(s=Promise))(function(e,r){function n(a){try{i(o.next(a))}catch(v){r(v)}}function t(a){try{i(o.throw(a))}catch(v){r(v)}}function i(a){a.done?e(a.value):f(a.value).then(n,t)}i((o=o.apply(c,l||[])).next())})};window.SpeechRecognition=window.webkitSpeechRecognition||window.SpeechRecognition;var B=(c,l,s,o)=>{var{microphonePermission:f,setMicrophonePermission:e}=k(o),[r,n]=(0,u.useState)(!1),[t,i]=(0,u.useState)("disabled"),[a,v]=(0,u.useState)(!1),[T,P]=(0,u.useState)(""),[W,V]=(0,u.useState)(!1),R=(0,u.useRef)(null);(0,u.useEffect)(()=>o?(R.current=new d({interimResultCallback:p=>P(S(c,p)),finalResultCallback:F,onListeningChange:n,onError:O}),v(R.current.browserSupportsRecognition)):v(!1),[c,o]),(0,u.useEffect)(()=>{switch(f){case"prompt":e("prompt");break;case"denied":r&&s(!0,"microphonePermissionDenied");break;case"granted":case null:a&&!r&&i("enabled");break}},[f,a,r]);var S=(p,I)=>{var $=p.length>0?" ":"";return"".concat(p).concat($).concat(I)},X=()=>{if(W)return i("disabled"),s(!0,"recognitionError");switch(f){case"denied":return i("disabled"),s(!0,"microphonePermissionDenied");default:w()}},w=()=>H(void 0,void 0,void 0,function*(){var p;return P(c),n(!0),i("active"),(p=R.current)===null||p===void 0?void 0:p.start()}),x=()=>{var p;n(!1),i("enabled"),(p=R.current)===null||p===void 0||p.stop()},F=p=>{l(S(c,p)),x()},O=(p,I)=>{if(I==="not-allowed")return i("disabled"),e("denied");if(p)return V(!0)};return{interimResult:T,isRecognitionAvailable:a,microphoneMode:t,onUseVoiceRecognition:X,recognitionError:W,setMicrophoneMode:i,startListening:w,stopListening:x}};const G=B;var D=(c,l)=>c>l,Q=(c,l)=>c===l,Y=(c,l)=>"contains"in l&&l.contains(c)||l instanceof Array&&l.includes(c),z=function(c,l){var s={};for(var o in c)Object.prototype.hasOwnProperty.call(c,o)&&l.indexOf(o)<0&&(s[o]=c[o]);if(c!=null&&typeof Object.getOwnPropertySymbols=="function")for(var f=0,o=Object.getOwnPropertySymbols(c);f<o.length;f++)l.indexOf(o[f])<0&&Object.prototype.propertyIsEnumerable.call(c,o[f])&&(s[o[f]]=c[o[f]]);return s},j="text",N="voice",J=c=>{var{ariaDescribedBy:l,ariaLabelledBy:s,autoComplete:o="name",color:f=A.Bb,canUseSpeechRecognition:e,inputPattern:r,isActive:n,maxLength:t,onChange:i=_.ZT,onCommit:a=_.ZT,onError:v=_.ZT,onBlur:T=_.ZT,onFocus:P=_.ZT,onMicrophoneClick:W=_.ZT,inputId:V="",value:R=[],focusableRef:S}=c,X=z(c,["ariaDescribedBy","ariaLabelledBy","autoComplete","color","canUseSpeechRecognition","inputPattern","isActive","maxLength","onChange","onCommit","onError","onBlur","onFocus","onMicrophoneClick","inputId","value","focusableRef"]),w=(0,u.useRef)(null),x=(0,u.useRef)(),F=(0,u.useMemo)(()=>R.length>0?R[0]:"",[R]),[O,p]=(0,u.useState)(F),I=(0,u.useCallback)(h=>{t&&D(h.length,t)&&v(!0,"maxLength");var E=h.slice(0,t);p(E),i(E,!1,{answerMethod:N})},[]),{isRecognitionAvailable:$,microphoneMode:ee,onUseVoiceRecognition:re}=G(O,I,v,e);(0,u.useEffect)(()=>{F!==O&&p(F)},[F]);var ne=h=>{t&&(D(O.length,t)||Q(O.length,t))&&!(0,m.r$)(h)&&v(!0,"maxLength")},te=h=>{var E,K;if(t){var U=(E=h.clipboardData)===null||E===void 0?void 0:E.types;if(U&&Y("text/plain",U)){var q=(K=h.clipboardData)===null||K===void 0?void 0:K.getData("text/plain");q&&D(O.length+q.length,t)&&v(!0,"maxLength")}}},ie=(0,u.useCallback)(h=>{var E;(0,m.r$)(h)?((0,A.T)()&&((E=w==null?void 0:w.current)===null||E===void 0||E.blur()),h==null||h.persist(),n&&a(h)):x.current={key:h.key}},[n,a]),oe=h=>{var E;if(!!n){var K=((E=x.current)===null||E===void 0?void 0:E.key)==="Unidentified",U=h.target.value;p(U),i(U.slice(0,t),K,{answerMethod:j})}},ae=(0,u.useCallback)(()=>{re(),W()},[]);return u.createElement(b.Z,Object.assign({autoComplete:o,getRef:h=>{S&&(S.current=h),w.current=h},onKeyDown:ie,onKeyPress:ne,onChange:oe,onPaste:te,onFocus:P,onBlur:T,maxLength:t,name:o,inputId:V,value:O,color:f,"aria-describedby":l,"aria-labelledby":s,tabIndex:0,pattern:r,isVoiceEnabled:e&&$,microphoneMode:ee,microphoneOnClick:ae},X))};const Z=u.memo(J)},67747:(L,y,g)=>{g.d(y,{Z:()=>b});var u={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",DEAD:"Dead",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SPACE:" ",TAB:"Tab",UNIDENTIFIED:"Unidentified"};const b=u},91540:(L,y,g)=>{g.d(y,{r:()=>_});var u=g(71383),b=g(61543),A=g.n(b),_=m=>{var C=u.useRef(!1),k=M=>{var d;C.current||(C.current=!0,A().trackAnswerChanged(Object.assign({block_type:m.field.type,block_index:(d=m.blockIndex)!==null&&d!==void 0?d:-1,block_ref:m.field.ref},M&&{response_prefilled:"browser_autocomplete"})))};return k}},69885:(L,y,g)=>{g.d(y,{T:()=>A});var u=g(71383),b=g(95962),A=(_,m)=>(0,u.useMemo)(()=>(0,b.e)(_,m),[_,m])},72081:(L,y,g)=>{g.d(y,{W5:()=>s,ZT:()=>b,c_:()=>f,pe:()=>Z,xQ:()=>B});var u=function(e,r){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(n[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)r.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(n[t[i]]=e[t[i]]);return n};function b(){}var A=e=>({type:"block",value:e}),_=(e,r)=>({type:"category",value:e,blocks:[r]});function m(){var{exclude:e=[],featureFlags:r={},featureFlagBlocksMap:n=BLOCKS_FEATURE_FLAG_MAPPING}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{exclude:[],featureFlags:{},featureFlagBlocksMap:BLOCKS_FEATURE_FLAG_MAPPING},t=G(r,n),i=[...e,...t];return BLOCKS.filter(a=>!i.includes(a))}function C(e){var{category:r}=getDefinition(e);return r!=null?r:null}function k(e){var r=e.reduce((n,t)=>{var{category:i}=getDefinition(t.value);return i&&(n[i]?n[i].blocks.push(t):n[i]=_(i,t)),n},{});return Object.values(r)}function M(){var{exclude:e=[],featureFlags:r={},featureFlagBlocksMap:n=BLOCKS_FEATURE_FLAG_MAPPING}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{exclude:[],featureFlags:{},featureFlagBlocksMap:BLOCKS_FEATURE_FLAG_MAPPING},t=m({exclude:e,featureFlags:r,featureFlagBlocksMap:n}).map(A),i=t.filter(v=>!getDefinition(v.value).category),a=k(t);return[...i,...a]}function d(){return[...m({exclude:OLD_BUILDER_EXCLUDE_BLOCKS}),...LEGACY_BLOCKS]}function H(){var{exclude:e=[],featureFlags:r={},featureFlagTemplatesMap:n=TEMPLATES_FEATURE_FLAG_MAPPING}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{exclude:[],featureFlags:{},featureFlagTemplatesMap:TEMPLATES_FEATURE_FLAG_MAPPING},t=D(r,n),i=[...e,...t];return TEMPLATES.filter(a=>!i.includes(a))}function B(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return[!0,"variant"].includes(r[e])}function G(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:BLOCKS_FEATURE_FLAG_MAPPING;return Object.entries(r).reduce((n,t)=>{var[i,a]=t;return B(a,e)||n.push(i),n},[])}function D(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:TEMPLATES_FEATURE_FLAG_MAPPING;return Object.entries(r).reduce((n,t)=>{var[i,a]=t;return B(a,e)||n.push(i),n},[])}function Q(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.assign({ref:v4(),label:""},e)}function Y(e){var{id:r}=e,n=u(e,["id"]);return Object.assign(Object.assign({},n),{ref:v4()})}var z=(e,r)=>{var n=(t,i)=>{var a=r?r(i):{},v=mergeDeepWith(N,e,a);return j(mergeDeepWith(identity,t,v))};return n},j=e=>{var r,n,t,i,a,v=Object.assign(Object.assign({},clone(e)),{ref:e.ref||v4()}),T=mergeDeepRight(v,!((n=(r=v.properties)===null||r===void 0?void 0:r.choices)===null||n===void 0)&&n.length?{properties:{choices:(t=v.properties.choices)===null||t===void 0?void 0:t.map(P=>Object.assign(Object.assign({},P),{ref:P.ref||v4()}))}}:{});return mergeDeepRight(T,!((a=(i=T.properties)===null||i===void 0?void 0:i.fields)===null||a===void 0)&&a.length?{properties:{fields:T.properties.fields.map(j)}}:{})},N=(e,r)=>Array.isArray(e)&&Array.isArray(r)?e.concat(r):r;function J(e){return Array.from({length:e},(r,n)=>n)}function Z(e){var r,n;return((r=e.colors)===null||r===void 0?void 0:r.answer)||((n=e.colors)===null||n===void 0?void 0:n.secondary)}function c(e,r){var n=Color(e).rgb().object();return"rgba(".concat(n.r,", ").concat(n.g,", ").concat(n.b,", ").concat(r,")")}function l(e){return e in answerTypesMapping?answerTypesMapping[e]:null}var s=(e,r)=>{if(!!r){var n=e.properties.fields.find(t=>o(r[t.subfield_key]));return n==null?void 0:n.subfield_key}},o=e=>Object.entries(e!=null?e:{}).find(r=>{var[n,t]=r;return t===!1}),f=e=>{if(!!e){var r=o(e);return r&&r[0]}}},58583:(L,y,g)=>{g.d(y,{KL:()=>m,NC:()=>A,id:()=>_,oD:()=>M,r$:()=>C,tk:()=>b});var u=g(67747);function b(d){return d.ctrlKey||d.metaKey}function A(d){return C(d)&&b(d)}function _(d){return d.key===u.Z.TAB}function m(d){return d.shiftKey}function C(d){return d.key===u.Z.ENTER&&!k(d.keyCode)}var k=d=>d===229;function M(d){return d.key===u.Z.BACKSPACE}}}]);
